---
# ansible-playbook playbooks/example/vault.yml --ask-vault-pass
- name: Attempt and graceful roll back demo
  hosts: test
  vars:
    # ansible-vault encrypt_string 'pwd123' --name 'root_password'
    root_password: !vault |
              $ANSIBLE_VAULT;1.1;AES256
              31633966303334346438316331323761343062643963343661356630333461616135656563653464
              3437376461316135333731393763303337306239353564350a373164343866386463623032346631
              32633664656634326565396661656437656161346363373330646261343035656536373963366537
              3139303766633766330a316332666362623331303238343030393663396130326435613931303432
              3333
  tasks:
    - name: debug
      debug: msg={{ root_password }}
